---
title: "Using YAML in GO"
author: Brandon Tsai + ChatGPT
---

YAML is a human-readable data serialization format that is often used for configuration files and data exchange between different programming languages. In Go, we can use the gopkg.in/yaml.v2 package to encode and decode YAML data.

Encoding YAML
-------------

To encode Go data structures as YAML, we can use the yaml.Marshal() function. This function takes a Go value as its input and returns a byte slice containing the encoded YAML data. Here's an example:

```go
import (
    "fmt"
    "gopkg.in/yaml.v2"
)

type Person struct {
    Name string `yaml:"name"`
    Age  int    `yaml:"age"`
    City string `yaml:"city"`
}

func main() {
    person := Person{Name: "John", Age: 30, City: "New York"}

    data, err := yaml.Marshal(person)
    if err != nil {
        fmt.Println("error:", err)
        return
    }

    fmt.Println(string(data))
}
```

In the above example, we define a Person struct with three fields: Name, Age, and City. We then create a Person object and use the yaml.Marshal() function to encode it as YAML. The yaml:"name" syntax in the struct definition is called a tag. It is used to map the struct fields to the corresponding YAML key names during encoding. In this example, the Name field in the struct will be mapped to the name key in the YAML data.

The output of the above code will be:

```yaml
name: John
age: 30
city: New York
```

In the above example, we successfully encoded the Person struct as YAML.

Decoding YAML
---------------

To decode YAML data into Go data structures, we can use the yaml.Unmarshal() function. This function takes a byte slice containing the YAML data as its input, and a pointer to a Go value that we want to decode the YAML data into. Here's an example:

```go
import (
    "fmt"
    "gopkg.in/yaml.v2"
)

type Person struct {
    Name string `yaml:"name"`
    Age  int    `yaml:"age"`
    City string `yaml:"city"`
}

func main() {
    yamlData := []byte(`name: John
age: 30
city: New York`)

    var person Person
    err := yaml.Unmarshal(yamlData, &person)
    if err != nil {
        fmt.Println("error:", err)
        return
    }

    fmt.Println(person)
}
```

In the above example, we define a Person struct with three fields: Name, Age, and City. We then create a byte slice containing the YAML data and use the yaml.Unmarshal() function to decode it into the person struct.

The output of the above code will be:

```sql
{John 30 New York}
```

In the above example, we successfully decoded the YAML data into a Person struct in Go.

Conclusion
---------

In this article, we learned how to use the `gopkg.in/yaml.v2` package to encode and decode YAML data in Go. We saw how to encode Go data structures as YAML using the yaml.Marshal() function, and how to decode YAML data into Go data structures using the yaml.Unmarshal() function. With this knowledge, you can now easily work with YAML data in your Go applications.